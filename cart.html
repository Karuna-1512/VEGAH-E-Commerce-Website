<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shopping Cart | VEGAH</title>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2589/2589903.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Poppins', sans-serif; background: #f8f9fa; color: #333; line-height: 1.6; }
    a { text-decoration: none; color: inherit; }

    /* Navbar */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.2rem 5%;
      background: white;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
    }
    .logo { font-size: 1.8rem; font-weight: 700; color: #e63946; }
    .cart { font-size: 1.6rem; position: relative; cursor: pointer; }

    .cart-page {
      max-width: 1000px;
      margin: 100px auto 4rem;
      padding: 0 5%;
    }
    .cart-items {
      background: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      margin-bottom: 2rem;
    }
    .cart-item {
      display: grid;
      grid-template-columns: 100px 1fr 100px 100px 50px;
      align-items: center;
      padding: 1.5rem;
      border-bottom: 1px solid #eee;
    }
    .cart-item:last-child {
      border-bottom: none;
    }
    .cart-item img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 10px;
    }
    .cart-item h3 {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
    }
    .cart-item .price {
      font-weight: 600;
      text-align: center;
    }
    .qty-controls {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    .qty-controls button {
      width: 30px; height: 30px; border: 1px solid #ddd; background: white; cursor: pointer; border-radius: 6px;
    }
    .remove-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #e63946;
    }
    .cart-summary {
      background: white;
      padding: 2rem;
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      text-align: right;
    }
    .cart-summary h2 {
      margin-bottom: 1rem;
    }
    .total {
      font-size: 1.5rem;
      font-weight: 700;
      margin: 1.5rem 0;
    }
    .btn {
      padding: 1rem 2rem; font-size: 1.1rem; font-weight: 600; border: none;
      border-radius: 50px; cursor: pointer; transition: all 0.3s; display: block; text-align: center;
    }
    .primary { background: #e63946; color: white; }
    .primary:hover { background: #c1121f; }
    .secondary { background: transparent; color: #e63946; border: 2px solid #e63946; margin-top: 1rem; }
    .secondary:hover { background: #e63946; color: white; }

    .empty-cart {
      text-align: center;
      padding: 4rem;
      color: #666;
      background: white;
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }

    @media (max-width: 768px) {
      .cart-item {
        grid-template-columns: 80px 1fr;
        gap: 1rem;
      }
      .cart-item > *:not(:first-child):not(.remove-btn) {
        grid-column: 2;
      }
      .remove-btn { justify-self: end; }
      .price, .qty-controls { justify-self: start; }
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <header class="navbar">
    <div class="logo">VEGAH</div>
    <a href="cart.html" class="cart" aria-label="View shopping cart">ðŸ›’ <span id="cart-count">0</span></a>
  </header>

  <section class="cart-page">
    <h1 style="font-size: 2.5rem; margin-bottom: 2rem; text-align:center;">Your Shopping Cart</h1>

    <div id="cartItems"></div>

    <div class="cart-summary">
      <h2>Order Summary</h2>
      <p>Subtotal: <span id="subtotal">â‚¹0</span></p>
      <p>Shipping: Free</p>
      <div class="total">Total: <span id="total">â‚¹0</span></div>
      <button class="btn primary">Proceed to Checkout</button>
      <a href="index.html" class="btn secondary">Continue Shopping</a>
    </div>
  </section>

  <script>
    // Products data with reliable, hotlink-friendly image URLs (tested Dec 2025)
    const products = [
      {
        id: 1,
        name: "Vegah Runner Pro",
        price: 4999,
        img: "https://m.media-amazon.com/images/I/810BTIYj1OL._AC_UY900_.jpg", // Black premium running shoe
      },
      {
        id: 2,
        name: "Vegah Midnight Casual",
        price: 5999,
        img: "https://cdnimg.brunomarc.com/brunomarcshoes/image/article/20220818_79/RIVERA-01-mens-sneakers-with-chinos-0232-feature.jpg", // Sleek black casual
      },
      {
        id: 3,
        name: "Vegah Premier High Top",
        price: 6799,
        img: "https://image-cdn.hypb.st/https%3A%2F%2Fhypebeast.com%2Fimage%2F2017%2F05%2Fair-jordan-1-retro-high-og-triple-black-2.jpg?q=75&w=800&cbr=1&fit=max", // Stylish black high-top
      }
    ];

    // Load cart from localStorage
    let cart = JSON.parse(localStorage.getItem("vegahCart") || "[]");

    // Update cart count in navbar
    document.getElementById("cart-count").textContent = cart.reduce((sum, item) => sum + item.qty, 0);

    const cartItemsContainer = document.getElementById("cartItems");

    if (cart.length === 0) {
      cartItemsContainer.innerHTML = `<div class="empty-cart"><h2>Your cart is empty</h2><p>Add some premium VEGAH shoes to get started!</p></div>`;
      document.getElementById("subtotal").textContent = "â‚¹0";
      document.getElementById("total").textContent = "â‚¹0";
    } else {
      cartItemsContainer.className = "cart-items";
      cartItemsContainer.innerHTML = "";

      let subtotal = 0;

      cart.forEach(item => {
        const product = products.find(p => p.id === item.id);
        if (!product) return;

        const itemTotal = product.price * item.qty;
        subtotal += itemTotal;

        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
          <img src="${product.img}" alt="${product.name}" onerror="this.src='https://via.placeholder.com/300x300/eee/999?text=No+Image'; this.style.objectFit='contain';">
          <div>
            <h3>${product.name}</h3>
            <p class="price">â‚¹${product.price.toLocaleString()}</p>
          </div>
          <div class="qty-controls">
            <button onclick="updateQty(${item.id}, -1)">-</button>
            <span>${item.qty}</span>
            <button onclick="updateQty(${item.id}, 1)">+</button>
          </div>
          <div style="text-align:center; font-weight:600;">â‚¹${itemTotal.toLocaleString()}</div>
          <button class="remove-btn" onclick="removeFromCart(${item.id})">Ã—</button>
        `;
        cartItemsContainer.appendChild(div);
      });

      document.getElementById("subtotal").textContent = `â‚¹${subtotal.toLocaleString()}`;
      document.getElementById("total").textContent = `â‚¹${subtotal.toLocaleString()}`;
    }

    // Update quantity
    function updateQty(id, change) {
      const item = cart.find(i => i.id === id);
      if (item) {
        item.qty += change;
        if (item.qty <= 0) {
          removeFromCart(id);
        } else {
          localStorage.setItem("vegahCart", JSON.stringify(cart));
          location.reload(); // Refresh to update totals & view
        }
      }
    }

    // Remove item
    function removeFromCart(id) {
      cart = cart.filter(i => i.id !== id);
      localStorage.setItem("vegahCart", JSON.stringify(cart));
      location.reload();
    }
  </script>
</body>
</html>